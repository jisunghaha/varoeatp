<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>바로잇 - 실시간 예약 및 주문</title>
    <!-- Tailwind CSS CDN 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 커스텀 스타일 및 애니메이션 */
        @keyframes pulse-live {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
        }
        .pulse-live { animation: pulse-live 2s infinite; }

        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }
        .bounce-gentle { animation: bounce-gentle 1.5s infinite; }

        .gradient-brand { background-image: linear-gradient(to right, #f97316, #ef4444); }
        .shadow-brand { box-shadow: 0 4px 6px -1px rgba(249, 115, 22, 0.1), 0 2px 4px -2px rgba(249, 115, 22, 0.1); }
        .text-gradient { background-clip: text; color: transparent; background-image: linear-gradient(to right, #f97316, #ef4444); }

        /* Running Character Styles */
        #running-character-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            transition: transform 0.5s ease-out;
            transform: translateX(300px); /* Initially hidden */
        }
        .show-character {
            transform: translateX(0);
        }
        #running-character {
            width: 50px;
            height: 50px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        #character-message {
            position: absolute;
            top: -40px;
            right: 60px;
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
            white-space: nowrap;
            opacity: 0.9;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <!-- Header, Main Content, Footer, and Modals will be rendered here by JavaScript -->
    <div id="app" class="min-h-screen flex flex-col">
        <!-- Main Content Renders Here -->
        <main id="view-container" class="flex-grow"></main>
        
        <!-- Running Character -->
        <div id="running-character-container" class="p-4 show-character">
            <div id="character-message" style="display:none;">바로 달려갑니다!</div>
            <div id="running-character" class="shadow-brand">🏃‍♂️</div>
        </div>
        
        <!-- Footer -->
        <footer class="bg-gradient-to-r from-orange-900 to-red-900 text-white py-12 mt-16">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8">
                    <div>
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-10 h-10 rounded-lg overflow-hidden bounce-gentle">
                                <!-- Figma asset placeholder -->
                                <div class="w-full h-full object-cover bg-yellow-400 flex items-center justify-center text-xl font-bold text-orange-900">잇</div>
                            </div>
                            <span class="font-bold text-xl text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-orange-300">바로잇</span>
                        </div>
                        <p class="text-sm text-orange-100">
                            바로 eat 하자! 🏃‍♂️💨
                            <br>
                            새로운 식사 경험의 시작
                        </p>
                        <div class="mt-4 flex space-x-3">
                            <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                            <span class="text-xs text-orange-200">실시간 서비스 운영중</span>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🍽️ 서비스</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('home')">⚡ 실시간 예약</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('restaurant')">🛎️ 원터치 주문</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100">⏱️ 스마트 웨이팅</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100">🎯 바로미션</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🤝 고객지원</h4>
                        <div class="space-y-2 text-sm">
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">💬 24시간 채팅상담</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">📞 고객센터</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">🏪 사업자 문의</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">⚡ 빠른 처리 보장</p>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">👤 계정</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('login')">🚪 로그인</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('signup')">✨ 회원가입</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('profile')">👥 마이페이지</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('notifications')">🔔 알림 설정</button>
                        </div>
                    </div>
                </div>

                <div class="border-t border-orange-700 mt-8 pt-8">
                    <div class="flex flex-col md:flex-row items-center justify-between">
                        <div class="text-center md:text-left mb-4 md:mb-0">
                            <p class="text-sm text-orange-200">
                                &copy; 2024 바로잇. All rights reserved.
                                <span class="ml-2">Made with ❤️ in Korea</span>
                            </p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2 text-xs text-orange-200">
                                <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                                <span>서버 정상 운영중</span>
                            </div>
                            <button class="border-orange-300 text-orange-300 hover:bg-orange-300 hover:text-orange-900 px-3 py-1 text-sm rounded-lg border transition-colors">💬 피드백</button>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let currentView = 'home';
        const viewContainer = document.getElementById('view-container');
        <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>바로잇 - 실시간 예약 및 주문</title>
    <!-- Tailwind CSS CDN 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 커스텀 스타일 및 애니메이션 */
        @keyframes pulse-live {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
        }
        .pulse-live { animation: pulse-live 2s infinite; }

        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }
        .bounce-gentle { animation: bounce-gentle 1.5s infinite; }

        .gradient-brand { background-image: linear-gradient(to right, #f97316, #ef4444); }
        .shadow-brand { box-shadow: 0 4px 6px -1px rgba(249, 115, 22, 0.1), 0 2px 4px -2px rgba(249, 115, 22, 0.1); }
        .text-gradient { background-clip: text; color: transparent; background-image: linear-gradient(to right, #f97316, #ef4444); }

        /* Running Character Styles */
        #running-character-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            transition: transform 0.5s ease-out;
            transform: translateX(300px); /* Initially hidden */
        }
        .show-character {
            transform: translateX(0);
        }
        #running-character {
            width: 50px;
            height: 50px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        #character-message {
            position: absolute;
            top: -40px;
            right: 60px;
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
            white-space: nowrap;
            opacity: 0.9;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <!-- Header, Main Content, Footer, and Modals will be rendered here by JavaScript -->
    <div id="app" class="min-h-screen flex flex-col">
        <!-- Main Content Renders Here -->
        <main id="view-container" class="flex-grow"></main>
        
        <!-- Running Character -->
        <div id="running-character-container" class="p-4 show-character">
            <div id="character-message" style="display:none;">바로 달려갑니다!</div>
            <div id="running-character" class="shadow-brand">🏃‍♂️</div>
        </div>
        
        <!-- Footer -->
        <footer class="bg-gradient-to-r from-orange-900 to-red-900 text-white py-12 mt-16">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8">
                    <div>
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-10 h-10 rounded-lg overflow-hidden bounce-gentle">
                                <!-- Figma asset placeholder -->
                                <div class="w-full h-full object-cover bg-yellow-400 flex items-center justify-center text-xl font-bold text-orange-900">잇</div>
                            </div>
                            <span class="font-bold text-xl text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-orange-300">바로잇</span>
                        </div>
                        <p class="text-sm text-orange-100">
                            바로 eat 하자! 🏃‍♂️💨
                            <br>
                            새로운 식사 경험의 시작
                        </p>
                        <div class="mt-4 flex space-x-3">
                            <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                            <span class="text-xs text-orange-200">실시간 서비스 운영중</span>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🍽️ 서비스</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('home')">⚡ 실시간 예약</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('restaurant')">🛎️ 원터치 주문</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100">⏱️ 스마트 웨이팅</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100">🎯 바로미션</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🤝 고객지원</h4>
                        <div class="space-y-2 text-sm">
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">💬 24시간 채팅상담</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">📞 고객센터</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">🏪 사업자 문의</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">⚡ 빠른 처리 보장</p>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">👤 계정</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('login')">🚪 로그인</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('signup')">✨ 회원가입</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('profile')">👥 마이페이지</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('notifications')">🔔 알림 설정</button>
                        </div>
                    </div>
                </div>

                <div class="border-t border-orange-700 mt-8 pt-8">
                    <div class="flex flex-col md:flex-row items-center justify-between">
                        <div class="text-center md:text-left mb-4 md:mb-0">
                            <p class="text-sm text-orange-200">
                                &copy; 2024 바로잇. All rights reserved.
                                <span class="ml-2">Made with ❤️ in Korea</span>
                            </p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2 text-xs text-orange-200">
                                <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                                <span>서버 정상 운영중</span>
                            </div>
                            <button class="border-orange-300 text-orange-300 hover:bg-orange-300 hover:text-orange-900 px-3 py-1 text-sm rounded-lg border transition-colors">💬 피드백</button>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let currentView = 'home';
        const viewContainer = document.getElementById('view-container');
        <!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>바로잇 - 실시간 예약 및 주문</title>
    <!-- Tailwind CSS CDN 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 커스텀 스타일 및 애니메이션 */
        @keyframes pulse-live {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
        }
        .pulse-live { animation: pulse-live 2s infinite; }

        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }
        .bounce-gentle { animation: bounce-gentle 1.5s infinite; }

        .gradient-brand { background-image: linear-gradient(to right, #f97316, #ef4444); }
        .shadow-brand { box-shadow: 0 4px 6px -1px rgba(249, 115, 22, 0.1), 0 2px 4px -2px rgba(249, 115, 22, 0.1); }
        .text-gradient { background-clip: text; color: transparent; background-image: linear-gradient(to right, #f97316, #ef4444); }

        /* Running Character Styles */
        #running-character-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            transition: transform 0.5s ease-out;
            transform: translateX(300px); /* Initially hidden */
        }
        .show-character {
            transform: translateX(0);
        }
        #running-character {
            width: 50px;
            height: 50px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        #character-message {
            position: absolute;
            top: -40px;
            right: 60px;
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
            white-space: nowrap;
            opacity: 0.9;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <!-- Header, Main Content, Footer, and Modals will be rendered here by JavaScript -->
    <div id="app" class="min-h-screen flex flex-col">
        <!-- Main Content Renders Here -->
        <main id="view-container" class="flex-grow"></main>
        
        <!-- Running Character -->
        <div id="running-character-container" class="p-4 show-character">
            <div id="character-message" style="display:none;">바로 달려갑니다!</div>
            <div id="running-character" class="shadow-brand">🏃‍♂️</div>
        </div>
        
        <!-- Footer -->
        <footer class="bg-gradient-to-r from-orange-900 to-red-900 text-white py-12 mt-16">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8">
                    <div>
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-10 h-10 rounded-lg overflow-hidden bounce-gentle">
                                <!-- Figma asset placeholder -->
                                <div class="w-full h-full object-cover bg-yellow-400 flex items-center justify-center text-xl font-bold text-orange-900">잇</div>
                            </div>
                            <span class="font-bold text-xl text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-orange-300">바로잇</span>
                        </div>
                        <p class="text-sm text-orange-100">
                            바로 eat 하자! 🏃‍♂️💨
                            <br>
                            새로운 식사 경험의 시작
                        </p>
                        <div class="mt-4 flex space-x-3">
                            <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                            <span class="text-xs text-orange-200">실시간 서비스 운영중</span>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🍽️ 서비스</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('home')">⚡ 실시간 예약</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('restaurant')">🛎️ 원터치 주문</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100">⏱️ 스마트 웨이팅</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100">🎯 바로미션</button>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🤝 고객지원</h4>
                        <div class="space-y-2 text-sm">
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">💬 24시간 채팅상담</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">📞 고객센터</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">🏪 사업자 문의</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">⚡ 빠른 처리 보장</p>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">👤 계정</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('login')">🚪 로그인</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('signup')">✨ 회원가입</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('profile')">👥 마이페이지</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('notifications')">🔔 알림 설정</button>
                        </div>
                    </div>
                </div>

                <div class="border-t border-orange-700 mt-8 pt-8">
                    <div class="flex flex-col md:flex-row items-center justify-between">
                        <div class="text-center md:text-left mb-4 md:mb-0">
                            <p class="text-sm text-orange-200">
                                &copy; 2024 바로잇. All rights reserved.
                                <span class="ml-2">Made with ❤️ in Korea</span>
                            </p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2 text-xs text-orange-200">
                                <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                                <span>서버 정상 운영중</span>
                            </div>
                            <button class="border-orange-300 text-orange-300 hover:bg-orange-300 hover:text-orange-900 px-3 py-1 text-sm rounded-lg border transition-colors">💬 피드백</button>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let currentView = 'home';
        const viewContainer = document.getElementById('view-container');
        const apiUrl = '/api/auth';

        // --- 라우팅 및 뷰 렌더링 함수 ---
        function handleNavigate(page) {
            currentView = page;
            renderCurrentView();
            // 스크롤을 맨 위로 이동
            window.scrollTo(0, 0);
        }

        function renderHeader() {
            // 로그인/회원가입 페이지에서는 헤더 숨김
            if (currentView === 'login' || currentView === 'signup') return '';

            return `
                <header class="sticky top-0 z-50 bg-white shadow-md">
                    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
                        <!-- 로고 -->
                        <div class="flex items-center space-x-3 cursor-pointer" onclick="handleNavigate('home')">
                            <div class="w-8 h-8 rounded-lg overflow-hidden bounce-gentle bg-yellow-400 flex items-center justify-center text-lg font-bold text-orange-900">잇</div>
                            <span class="font-bold text-xl text-orange-600">바로잇</span>
                        </div>
                        
                        <!-- 메뉴/액션 -->
                        <div class="flex items-center space-x-4">
                            <button onclick="handleNavigate('location')" class="text-orange-600 hover:text-orange-800 text-sm font-medium">
                                📍 강남구
                            </button>
                            <button onclick="handleNavigate('notifications')" class="text-gray-600 hover:text-orange-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.433 5.753 6 8.214 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v2a3 3 0 11-6 0v-2m6 0H9"></path></svg>
                            </button>
                            <button onclick="handleNavigate('profile')" class="text-gray-600 hover:text-orange-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14c-4.418 0-8 3.582-8 8v1h16v-1c0-4.418-3.582-8-8-8z"></path></svg>
                            </button>
                            <button onclick="handleNavigate('login')" class="bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium hover:bg-orange-600 transition-colors">
                                로그인
                            </button>
                        </div>
                    </div>
                </header>
            `;
        }

        function renderHomePage() {
            // Mock restaurant data
            const restaurants = [
                { id: "1", name: "김치찌개 전문점", image: "https://placehold.co/600x400/F7B733/FFF?text=K-Food", cuisine: "한식", rating: 4.8, reviewCount: 324, priceRange: "1-2만원", location: "강남구 역삼동", distance: "300m", estimatedWait: "20분 대기", features: ["주차", "와이파이", "룸"], availableSlots: 5, isPopular: true, specialOffer: "10% 할인" },
                { id: "2", name: "정통 불고기 맛집", image: "https://placehold.co/600x400/E8793B/FFF?text=K-BBQ", cuisine: "한식", rating: 4.6, reviewCount: 189, priceRange: "2-3만원", location: "강남구 신사동", distance: "450m", estimatedWait: "15분 대기", features: ["주차", "룸", "단체석"], availableSlots: 3, isPopular: false },
                { id: "3", name: "비빔밥 카페", image: "https://placehold.co/600x400/ECB365/FFF?text=Bibimbap", cuisine: "한식", rating: 4.4, reviewCount: 97, priceRange: "1만원 이하", location: "강남구 청담동", distance: "600m", estimatedWait: "즉시 입장", features: ["와이파이", "야외석", "채식 메뉴"], availableSlots: 8, isPopular: false, specialOffer: "신규 오픈" },
            ];

            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-8">
                    <!-- Hero Section -->
                    <section class="text-center py-16 bg-white rounded-xl shadow-lg">
                        <h1 class="text-4xl font-extrabold mb-4 text-orange-600">바로 예약하고 바로 잇자!</h1>
                        <p class="text-gray-600 mb-8">테이블 예약, 메뉴 주문, 결제까지 한 번에 빠르고 편리한 식당 예약 서비스 '바로잇'입니다.</p>
                        <div class="flex justify-center space-x-4">
                            <button class="bg-orange-500 text-white px-6 py-3 rounded-full font-bold hover:bg-orange-600 transition-colors">바로 예약하기</button>
                            <button class="border border-gray-300 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-100 transition-colors">주문하기</button>
                        </div>
                    </section>

                    <!-- Feature Cards (Simplified) -->
                    <section class="grid md:grid-cols-4 gap-6 mt-12 text-center">
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">🗓️</span>
                            <h3 class="font-bold">간편 예약</h3>
                            <p class="text-sm text-gray-500">실시간 테이블 예약</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">🍽️</span>
                            <h3 class="font-bold">사전 주문</h3>
                            <p class="text-sm text-gray-500">미리 메뉴 선택</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">⚡</span>
                            <h3 class="font-bold">실시간 알림</h3>
                            <p class="text-sm text-gray-500">준비 상태 확인</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">👤</span>
                            <h3 class="font-bold">마이페이지</h3>
                            <p class="text-sm text-gray-500">개인 정보 관리</p>
                        </div>
                    </section>

                    <!-- Restaurant List -->
                    <section class="mt-12">
                        <h2 class="text-2xl font-bold mb-4">주변 추천 맛집</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${restaurants.map(r => `
                                <div class="bg-white rounded-xl shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow">
                                    <img src="${r.image}" alt="${r.name}" class="w-full h-40 object-cover">
                                    <div class="p-4">
                                        <h3 class="font-bold text-lg">${r.name}</h3>
                                        <p class="text-sm text-gray-500">${r.cuisine} • ${r.location}</p>
                                        <div class="flex items-center text-sm mt-2">
                                            <span class="text-yellow-500">⭐ ${r.rating}</span>
                                            <span class="text-gray-400 ml-2">(${r.reviewCount})</span>
                                            <span class="ml-auto text-orange-600 font-medium">${r.estimatedWait}</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                </div>
            `;
        }
        
        function renderLoginPage() {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">로그인</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-6">
                        <input type="email" id="login-email" placeholder="이메일 (아이디)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <input type="password" id="login-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <button id="login-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendLogin()">로그인</button>
                        <p id="login-message" class="text-center text-sm text-red-500"></p>
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('signup')">아직 계정이 없으신가요? 회원가입</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }

        function renderSignupPage() {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">회원가입</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-4">
                        <input type="text" id="signup-user-name" placeholder="이름" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="email" id="signup-email" placeholder="이메일 (아이디)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="tel" id="signup-phone-number" placeholder="휴대폰 번호 (010-XXXX-XXXX)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="password" id="signup-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="password" id="signup-confirm-password" placeholder="비밀번호 확인" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        
                        <!-- 이용약관 및 개인정보 동의 -->
                        <div class="space-y-2 pt-2">
                            <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                                <input type="checkbox" id="agree-terms" class="mr-2 text-orange-600 rounded focus:ring-orange-500">
                                <span>이용약관 동의 (필수)</span>
                            </label>
                            <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                                <input type="checkbox" id="agree-privacy" class="mr-2 text-orange-600 rounded focus:ring-orange-500">
                                <span>개인정보처리방침 동의 (필수)</span>
                            </label>
                        </div>

                        <button id="signup-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendSignup()">회원가입 완료</button>
                        <p id="signup-message" class="text-center text-sm text-red-500"></p> <!-- 메시지 영역 추가 -->
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('login')">이미 계정이 있으신가요? 로그인</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }

        function renderCurrentView() {
            let htmlContent = '';
            switch (currentView) {
                case 'home':
                    htmlContent = renderHomePage();
                    break;
                case 'login':
                    htmlContent = renderLoginPage();
                    break;
                case 'signup':
                    htmlContent = renderSignupPage();
                    break;
                // 'restaurant', 'profile', 'notifications', 'location' 등은 단순 Placeholder
                case 'restaurant':
                case 'profile':
                case 'notifications':
                case 'location':
                    htmlContent = renderPlaceholderPage(currentView);
                    break;
                default:
                    htmlContent = renderHomePage();
            }
            viewContainer.innerHTML = htmlContent;
        }

        function renderPlaceholderPage(view) {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 text-center">
                    <h2 class="text-3xl font-bold mb-4 text-orange-600">${view.toUpperCase()} 페이지</h2>
                    <p class="text-gray-600 mb-8">현재 ${view.toUpperCase()} 기능은 구현 중입니다.</p>
                    <button class="bg-orange-500 text-white px-6 py-3 rounded-full font-bold hover:bg-orange-600 transition-colors" onclick="handleNavigate('home')">홈으로 돌아가기</button>
                </div>
            `;
        }

        // --- 백엔드 연동 및 유효성 검사 함수 ---

        // 회원가입 처리 함수
        async function handleBackendSignup() {
            const userName = document.getElementById('signup-user-name').value;
            const email = document.getElementById('signup-email').value;
            const phoneNumber = document.getElementById('signup-phone-number').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            const agreeTerms = document.getElementById('agree-terms').checked;
            const agreePrivacy = document.getElementById('agree-privacy').checked;
            const messageEl = document.getElementById('signup-message');

            // 1. 초기 메시지 설정 및 유효성 검사
            messageEl.textContent = "";
            messageEl.classList.remove('text-green-500', 'text-red-500');

            if (!userName || !email || !phoneNumber || !password || !confirmPassword) {
                messageEl.textContent = "모든 필수 정보를 입력해 주세요.";
                messageEl.classList.add('text-red-500');
                return;
            }

            if (password !== confirmPassword) {
                messageEl.textContent = "비밀번호와 비밀번호 확인 값이 일치하지 않습니다.";
                messageEl.classList.add('text-red-500');
                return;
            }

            if (!agreeTerms || !agreePrivacy) {
                messageEl.textContent = "이용약관 및 개인정보처리방침에 모두 동의해야 합니다.";
                messageEl.classList.add('text-red-500');
                return;
            }

            messageEl.textContent = "회원가입 요청 중...";
            messageEl.classList.add('text-blue-500');

            const signupData = {
                userName: userName,
                email: email,
                phoneNumber: phoneNumber,
                password: password,
            };

            try {
                const response = await fetch(`${apiUrl}/register`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(signupData),
                });

                if (response.ok) {
                    messageEl.textContent = "회원가입 성공! 🎉 로그인 페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    
                    // 2초 후 로그인 페이지로 이동
                    setTimeout(() => handleNavigate('login'), 2000);

                } else if (response.status === 400) {
                    const errorBody = await response.json().catch(() => ({}));
                    messageEl.textContent = `회원가입 실패: ${errorBody.message || '이미 존재하는 이메일이거나 서버에서 오류가 발생했습니다.'}`;
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "회원가입 실패: 서버에서 알 수 없는 오류가 발생했습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }

        // 로그인 처리 함수
        async function handleBackendLogin() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const messageEl = document.getElementById('login-message');
            
            messageEl.textContent = "로그인 시도 중...";
            messageEl.classList.remove('text-red-500');
            messageEl.classList.add('text-blue-500');

            if (!email || !password) {
                messageEl.textContent = "이메일과 비밀번호를 모두 입력해 주세요.";
                messageEl.classList.add('text-red-500');
                messageEl.classList.remove('text-blue-500');
                return;
            }

            const loginData = {
                username: email, // 백엔드 UserService에서 email을 username으로 사용함
                password: password
            };

            try {
                const response = await fetch(`${apiUrl}/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(loginData),
                });

                if (response.ok) {
                    const result = await response.json();
                    
                    // 로그인 성공 처리 (토큰을 저장하거나 상태 업데이트)
                    localStorage.setItem('auth_token', result.token); 
                    messageEl.textContent = "로그인 성공! 🎉 마이페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    
                    // 2초 후 마이페이지로 이동
                    setTimeout(() => handleNavigate('profile'), 2000); 

                } else if (response.status === 401) {
                    messageEl.textContent = "오류: 이메일 또는 비밀번호가 일치하지 않습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "로그인 실패: 서버 오류 발생.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }


        // 초기 로드 시 홈 뷰 렌더링
        window.onload = renderCurrentView;

    </script>
</body>
</html>


        // --- 라우팅 및 뷰 렌더링 함수 ---
        function handleNavigate(page) {
            currentView = page;
            renderCurrentView();
            // 스크롤을 맨 위로 이동
            window.scrollTo(0, 0);
        }

        function renderHeader() {
            // 로그인/회원가입 페이지에서는 헤더 숨김
            if (currentView === 'login' || currentView === 'signup') return '';

            return `
                <header class="sticky top-0 z-50 bg-white shadow-md">
                    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
                        <!-- 로고 -->
                        <div class="flex items-center space-x-3 cursor-pointer" onclick="handleNavigate('home')">
                            <div class="w-8 h-8 rounded-lg overflow-hidden bounce-gentle bg-yellow-400 flex items-center justify-center text-lg font-bold text-orange-900">잇</div>
                            <span class="font-bold text-xl text-orange-600">바로잇</span>
                        </div>
                        
                        <!-- 메뉴/액션 -->
                        <div class="flex items-center space-x-4">
                            <button onclick="handleNavigate('location')" class="text-orange-600 hover:text-orange-800 text-sm font-medium">
                                📍 강남구
                            </button>
                            <button onclick="handleNavigate('notifications')" class="text-gray-600 hover:text-orange-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.433 5.753 6 8.214 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v2a3 3 0 11-6 0v-2m6 0H9"></path></svg>
                            </button>
                            <button onclick="handleNavigate('profile')" class="text-gray-600 hover:text-orange-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14c-4.418 0-8 3.582-8 8v1h16v-1c0-4.418-3.582-8-8-8z"></path></svg>
                            </button>
                            <button onclick="handleNavigate('login')" class="bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium hover:bg-orange-600 transition-colors">
                                로그인
                            </button>
                        </div>
                    </div>
                </header>
            `;
        }

        function renderHomePage() {
            // Mock restaurant data
            const restaurants = [
                { id: "1", name: "김치찌개 전문점", image: "https://placehold.co/600x400/F7B733/FFF?text=K-Food", cuisine: "한식", rating: 4.8, reviewCount: 324, priceRange: "1-2만원", location: "강남구 역삼동", distance: "300m", estimatedWait: "20분 대기", features: ["주차", "와이파이", "룸"], availableSlots: 5, isPopular: true, specialOffer: "10% 할인" },
                { id: "2", name: "정통 불고기 맛집", image: "https://placehold.co/600x400/E8793B/FFF?text=K-BBQ", cuisine: "한식", rating: 4.6, reviewCount: 189, priceRange: "2-3만원", location: "강남구 신사동", distance: "450m", estimatedWait: "15분 대기", features: ["주차", "룸", "단체석"], availableSlots: 3, isPopular: false },
                { id: "3", name: "비빔밥 카페", image: "https://placehold.co/600x400/ECB365/FFF?text=Bibimbap", cuisine: "한식", rating: 4.4, reviewCount: 97, priceRange: "1만원 이하", location: "강남구 청담동", distance: "600m", estimatedWait: "즉시 입장", features: ["와이파이", "야외석", "채식 메뉴"], availableSlots: 8, isPopular: false, specialOffer: "신규 오픈" },
            ];

            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-8">
                    <!-- Hero Section -->
                    <section class="text-center py-16 bg-white rounded-xl shadow-lg">
                        <h1 class="text-4xl font-extrabold mb-4 text-orange-600">바로 예약하고 바로 잇자!</h1>
                        <p class="text-gray-600 mb-8">테이블 예약, 메뉴 주문, 결제까지 한 번에 빠르고 편리한 식당 예약 서비스 '바로잇'입니다.</p>
                        <div class="flex justify-center space-x-4">
                            <button class="bg-orange-500 text-white px-6 py-3 rounded-full font-bold hover:bg-orange-600 transition-colors">바로 예약하기</button>
                            <button class="border border-gray-300 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-100 transition-colors">주문하기</button>
                        </div>
                    </section>

                    <!-- Feature Cards (Simplified) -->
                    <section class="grid md:grid-cols-4 gap-6 mt-12 text-center">
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">🗓️</span>
                            <h3 class="font-bold">간편 예약</h3>
                            <p class="text-sm text-gray-500">실시간 테이블 예약</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">🍽️</span>
                            <h3 class="font-bold">사전 주문</h3>
                            <p class="text-sm text-gray-500">미리 메뉴 선택</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">⚡</span>
                            <h3 class="font-bold">실시간 알림</h3>
                            <p class="text-sm text-gray-500">준비 상태 확인</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">👤</span>
                            <h3 class="font-bold">마이페이지</h3>
                            <p class="text-sm text-gray-500">개인 정보 관리</p>
                        </div>
                    </section>

                    <!-- Restaurant List -->
                    <section class="mt-12">
                        <h2 class="text-2xl font-bold mb-4">주변 추천 맛집</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${restaurants.map(r => `
                                <div class="bg-white rounded-xl shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow">
                                    <img src="${r.image}" alt="${r.name}" class="w-full h-40 object-cover">
                                    <div class="p-4">
                                        <h3 class="font-bold text-lg">${r.name}</h3>
                                        <p class="text-sm text-gray-500">${r.cuisine} • ${r.location}</p>
                                        <div class="flex items-center text-sm mt-2">
                                            <span class="text-yellow-500">⭐ ${r.rating}</span>
                                            <span class="text-gray-400 ml-2">(${r.reviewCount})</span>
                                            <span class="ml-auto text-orange-600 font-medium">${r.estimatedWait}</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                </div>
            `;
        }
        
        function renderLoginPage() {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">로그인</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-6">
                        <input type="email" id="login-email" placeholder="이메일 (아이디)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <input type="password" id="login-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <button id="login-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendLogin()">로그인</button>
                        <p id="login-message" class="text-center text-sm text-red-500"></p>
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('signup')">아직 계정이 없으신가요? 회원가입</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }

        function renderSignupPage() {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">회원가입</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-4">
                        <input type="text" id="signup-user-name" placeholder="이름" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="email" id="signup-email" placeholder="이메일 (아이디)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="tel" id="signup-phone-number" placeholder="휴대폰 번호 (010-XXXX-XXXX)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="password" id="signup-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="password" id="signup-confirm-password" placeholder="비밀번호 확인" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        
                        <!-- 이용약관 및 개인정보 동의 -->
                        <div class="space-y-2 pt-2">
                            <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                                <input type="checkbox" id="agree-terms" class="mr-2 text-orange-600 rounded focus:ring-orange-500">
                                <span>이용약관 동의 (필수)</span>
                            </label>
                            <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                                <input type="checkbox" id="agree-privacy" class="mr-2 text-orange-600 rounded focus:ring-orange-500">
                                <span>개인정보처리방침 동의 (필수)</span>
                            </label>
                        </div>

                        <button id="signup-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendSignup()">회원가입 완료</button>
                        <p id="signup-message" class="text-center text-sm text-red-500"></p> <!-- 메시지 영역 추가 -->
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('login')">이미 계정이 있으신가요? 로그인</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }

        function renderCurrentView() {
            let htmlContent = '';
            switch (currentView) {
                case 'home':
                    htmlContent = renderHomePage();
                    break;
                case 'login':
                    htmlContent = renderLoginPage();
                    break;
                case 'signup':
                    htmlContent = renderSignupPage();
                    break;
                // 'restaurant', 'profile', 'notifications', 'location' 등은 단순 Placeholder
                case 'restaurant':
                case 'profile':
                case 'notifications':
                case 'location':
                    htmlContent = renderPlaceholderPage(currentView);
                    break;
                default:
                    htmlContent = renderHomePage();
            }
            viewContainer.innerHTML = htmlContent;
        }

        function renderPlaceholderPage(view) {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 text-center">
                    <h2 class="text-3xl font-bold mb-4 text-orange-600">${view.toUpperCase()} 페이지</h2>
                    <p class="text-gray-600 mb-8">현재 ${view.toUpperCase()} 기능은 구현 중입니다.</p>
                    <button class="bg-orange-500 text-white px-6 py-3 rounded-full font-bold hover:bg-orange-600 transition-colors" onclick="handleNavigate('home')">홈으로 돌아가기</button>
                </div>
            `;
        }

        // --- 백엔드 연동 및 유효성 검사 함수 ---

        // 회원가입 처리 함수
        async function handleBackendSignup() {
            const userName = document.getElementById('signup-user-name').value;
            const email = document.getElementById('signup-email').value;
            const phoneNumber = document.getElementById('signup-phone-number').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            const agreeTerms = document.getElementById('agree-terms').checked;
            const agreePrivacy = document.getElementById('agree-privacy').checked;
            const messageEl = document.getElementById('signup-message');

            // 1. 초기 메시지 설정 및 유효성 검사
            messageEl.textContent = "";
            messageEl.classList.remove('text-green-500', 'text-red-500');

            if (!userName || !email || !phoneNumber || !password || !confirmPassword) {
                messageEl.textContent = "모든 필수 정보를 입력해 주세요.";
                messageEl.classList.add('text-red-500');
                return;
            }

            if (password !== confirmPassword) {
                messageEl.textContent = "비밀번호와 비밀번호 확인 값이 일치하지 않습니다.";
                messageEl.classList.add('text-red-500');
                return;
            }

            if (!agreeTerms || !agreePrivacy) {
                messageEl.textContent = "이용약관 및 개인정보처리방침에 모두 동의해야 합니다.";
                messageEl.classList.add('text-red-500');
                return;
            }

            messageEl.textContent = "회원가입 요청 중...";
            messageEl.classList.add('text-blue-500');

            const signupData = {
                userName: userName,
                email: email,
                phoneNumber: phoneNumber,
                password: password,
            };

            try {
                const response = await fetch(`${apiUrl}/register`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(signupData),
                });

                if (response.ok) {
                    messageEl.textContent = "회원가입 성공! 🎉 로그인 페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    
                    // 2초 후 로그인 페이지로 이동
                    setTimeout(() => handleNavigate('login'), 2000);

                } else if (response.status === 400) {
                    const errorBody = await response.json().catch(() => ({}));
                    messageEl.textContent = `회원가입 실패: ${errorBody.message || '이미 존재하는 이메일이거나 서버에서 오류가 발생했습니다.'}`;
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "회원가입 실패: 서버에서 알 수 없는 오류가 발생했습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }

        // 로그인 처리 함수
        async function handleBackendLogin() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const messageEl = document.getElementById('login-message');
            
            messageEl.textContent = "로그인 시도 중...";
            messageEl.classList.remove('text-red-500');
            messageEl.classList.add('text-blue-500');

            if (!email || !password) {
                messageEl.textContent = "이메일과 비밀번호를 모두 입력해 주세요.";
                messageEl.classList.add('text-red-500');
                messageEl.classList.remove('text-blue-500');
                return;
            }

            const loginData = {
                username: email, // 백엔드 UserService에서 email을 username으로 사용함
                password: password
            };

            try {
                const response = await fetch(`${apiUrl}/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(loginData),
                });

                if (response.ok) {
                    const result = await response.json();
                    
                    // 로그인 성공 처리 (토큰을 저장하거나 상태 업데이트)
                    localStorage.setItem('auth_token', result.token); 
                    messageEl.textContent = "로그인 성공! 🎉 마이페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    
                    // 2초 후 마이페이지로 이동
                    setTimeout(() => handleNavigate('profile'), 2000); 

                } else if (response.status === 401) {
                    messageEl.textContent = "오류: 이메일 또는 비밀번호가 일치하지 않습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "로그인 실패: 서버 오류 발생.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }


        // 초기 로드 시 홈 뷰 렌더링
        window.onload = renderCurrentView;

    </script>
</body>
</html>


        // --- 라우팅 및 뷰 렌더링 함수 ---
        function handleNavigate(page) {
            currentView = page;
            renderCurrentView();
            // 스크롤을 맨 위로 이동
            window.scrollTo(0, 0);
        }

        function renderHeader() {
            // 로그인/회원가입 페이지에서는 헤더 숨김
            if (currentView === 'login' || currentView === 'signup') return '';

            return `
                <header class="sticky top-0 z-50 bg-white shadow-md">
                    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
                        <!-- 로고 -->
                        <div class="flex items-center space-x-3 cursor-pointer" onclick="handleNavigate('home')">
                            <div class="w-8 h-8 rounded-lg overflow-hidden bounce-gentle bg-yellow-400 flex items-center justify-center text-lg font-bold text-orange-900">잇</div>
                            <span class="font-bold text-xl text-orange-600">바로잇</span>
                        </div>
                        
                        <!-- 메뉴/액션 -->
                        <div class="flex items-center space-x-4">
                            <button onclick="handleNavigate('location')" class="text-orange-600 hover:text-orange-800 text-sm font-medium">
                                📍 강남구
                            </button>
                            <button onclick="handleNavigate('notifications')" class="text-gray-600 hover:text-orange-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.433 5.753 6 8.214 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v2a3 3 0 11-6 0v-2m6 0H9"></path></svg>
                            </button>
                            <button onclick="handleNavigate('profile')" class="text-gray-600 hover:text-orange-600">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14c-4.418 0-8 3.582-8 8v1h16v-1c0-4.418-3.582-8-8-8z"></path></svg>
                            </button>
                            <button onclick="handleNavigate('login')" class="bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium hover:bg-orange-600 transition-colors">
                                로그인
                            </button>
                        </div>
                    </div>
                </header>
            `;
        }

        function renderHomePage() {
            // Mock restaurant data
            const restaurants = [
                { id: "1", name: "김치찌개 전문점", image: "https://placehold.co/600x400/F7B733/FFF?text=K-Food", cuisine: "한식", rating: 4.8, reviewCount: 324, priceRange: "1-2만원", location: "강남구 역삼동", distance: "300m", estimatedWait: "20분 대기", features: ["주차", "와이파이", "룸"], availableSlots: 5, isPopular: true, specialOffer: "10% 할인" },
                { id: "2", name: "정통 불고기 맛집", image: "https://placehold.co/600x400/E8793B/FFF?text=K-BBQ", cuisine: "한식", rating: 4.6, reviewCount: 189, priceRange: "2-3만원", location: "강남구 신사동", distance: "450m", estimatedWait: "15분 대기", features: ["주차", "룸", "단체석"], availableSlots: 3, isPopular: false },
                { id: "3", name: "비빔밥 카페", image: "https://placehold.co/600x400/ECB365/FFF?text=Bibimbap", cuisine: "한식", rating: 4.4, reviewCount: 97, priceRange: "1만원 이하", location: "강남구 청담동", distance: "600m", estimatedWait: "즉시 입장", features: ["와이파이", "야외석", "채식 메뉴"], availableSlots: 8, isPopular: false, specialOffer: "신규 오픈" },
            ];

            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-8">
                    <!-- Hero Section -->
                    <section class="text-center py-16 bg-white rounded-xl shadow-lg">
                        <h1 class="text-4xl font-extrabold mb-4 text-orange-600">바로 예약하고 바로 잇자!</h1>
                        <p class="text-gray-600 mb-8">테이블 예약, 메뉴 주문, 결제까지 한 번에 빠르고 편리한 식당 예약 서비스 '바로잇'입니다.</p>
                        <div class="flex justify-center space-x-4">
                            <button class="bg-orange-500 text-white px-6 py-3 rounded-full font-bold hover:bg-orange-600 transition-colors">바로 예약하기</button>
                            <button class="border border-gray-300 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-100 transition-colors">주문하기</button>
                        </div>
                    </section>

                    <!-- Feature Cards (Simplified) -->
                    <section class="grid md:grid-cols-4 gap-6 mt-12 text-center">
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">🗓️</span>
                            <h3 class="font-bold">간편 예약</h3>
                            <p class="text-sm text-gray-500">실시간 테이블 예약</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">🍽️</span>
                            <h3 class="font-bold">사전 주문</h3>
                            <p class="text-sm text-gray-500">미리 메뉴 선택</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">⚡</span>
                            <h3 class="font-bold">실시간 알림</h3>
                            <p class="text-sm text-gray-500">준비 상태 확인</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange-500">
                            <span class="text-4xl block mb-3">👤</span>
                            <h3 class="font-bold">마이페이지</h3>
                            <p class="text-sm text-gray-500">개인 정보 관리</p>
                        </div>
                    </section>

                    <!-- Restaurant List -->
                    <section class="mt-12">
                        <h2 class="text-2xl font-bold mb-4">주변 추천 맛집</h2>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${restaurants.map(r => `
                                <div class="bg-white rounded-xl shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow">
                                    <img src="${r.image}" alt="${r.name}" class="w-full h-40 object-cover">
                                    <div class="p-4">
                                        <h3 class="font-bold text-lg">${r.name}</h3>
                                        <p class="text-sm text-gray-500">${r.cuisine} • ${r.location}</p>
                                        <div class="flex items-center text-sm mt-2">
                                            <span class="text-yellow-500">⭐ ${r.rating}</span>
                                            <span class="text-gray-400 ml-2">(${r.reviewCount})</span>
                                            <span class="ml-auto text-orange-600 font-medium">${r.estimatedWait}</span>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </section>
                </div>
            `;
        }
        
        function renderLoginPage() {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">로그인</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-6">
                        <input type="email" id="login-email" placeholder="이메일 (아이디)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <input type="password" id="login-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <button id="login-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendLogin()">로그인</button>
                        <p id="login-message" class="text-center text-sm text-red-500"></p>
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('signup')">아직 계정이 없으신가요? 회원가입</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }

        function renderSignupPage() {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">회원가입</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-4">
                        <input type="text" id="signup-user-name" placeholder="이름" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="email" id="signup-email" placeholder="이메일 (아이디)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="tel" id="signup-phone-number" placeholder="휴대폰 번호 (010-XXXX-XXXX)" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="password" id="signup-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        <input type="password" id="signup-confirm-password" placeholder="비밀번호 확인" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                        
                        <!-- 이용약관 및 개인정보 동의 -->
                        <div class="space-y-2 pt-2">
                            <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                                <input type="checkbox" id="agree-terms" class="mr-2 text-orange-600 rounded focus:ring-orange-500">
                                <span>이용약관 동의 (필수)</span>
                            </label>
                            <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                                <input type="checkbox" id="agree-privacy" class="mr-2 text-orange-600 rounded focus:ring-orange-500">
                                <span>개인정보처리방침 동의 (필수)</span>
                            </label>
                        </div>

                        <button id="signup-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendSignup()">회원가입 완료</button>
                        <p id="signup-message" class="text-center text-sm text-red-500"></p> <!-- 메시지 영역 추가 -->
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('login')">이미 계정이 있으신가요? 로그인</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }

        function renderCurrentView() {
            let htmlContent = '';
            switch (currentView) {
                case 'home':
                    htmlContent = renderHomePage();
                    break;
                case 'login':
                    htmlContent = renderLoginPage();
                    break;
                case 'signup':
                    htmlContent = renderSignupPage();
                    break;
                // 'restaurant', 'profile', 'notifications', 'location' 등은 단순 Placeholder
                case 'restaurant':
                case 'profile':
                case 'notifications':
                case 'location':
                    htmlContent = renderPlaceholderPage(currentView);
                    break;
                default:
                    htmlContent = renderHomePage();
            }
            viewContainer.innerHTML = htmlContent;
        }

        function renderPlaceholderPage(view) {
            return `
                ${renderHeader()}
                <div class="container mx-auto px-4 py-16 text-center">
                    <h2 class="text-3xl font-bold mb-4 text-orange-600">${view.toUpperCase()} 페이지</h2>
                    <p class="text-gray-600 mb-8">현재 ${view.toUpperCase()} 기능은 구현 중입니다.</p>
                    <button class="bg-orange-500 text-white px-6 py-3 rounded-full font-bold hover:bg-orange-600 transition-colors" onclick="handleNavigate('home')">홈으로 돌아가기</button>
                </div>
            `;
        }

        // --- 백엔드 연동 및 유효성 검사 함수 ---

        // 회원가입 처리 함수
        async function handleBackendSignup() {
            const userName = document.getElementById('signup-user-name').value;
            const email = document.getElementById('signup-email').value;
            const phoneNumber = document.getElementById('signup-phone-number').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            const agreeTerms = document.getElementById('agree-terms').checked;
            const agreePrivacy = document.getElementById('agree-privacy').checked;
            const messageEl = document.getElementById('signup-message');

            // 1. 초기 메시지 설정 및 유효성 검사
            messageEl.textContent = "";
            messageEl.classList.remove('text-green-500', 'text-red-500');

            if (!userName || !email || !phoneNumber || !password || !confirmPassword) {
                messageEl.textContent = "모든 필수 정보를 입력해 주세요.";
                messageEl.classList.add('text-red-500');
                return;
            }

            if (password !== confirmPassword) {
                messageEl.textContent = "비밀번호와 비밀번호 확인 값이 일치하지 않습니다.";
                messageEl.classList.add('text-red-500');
                return;
            }

            if (!agreeTerms || !agreePrivacy) {
                messageEl.textContent = "이용약관 및 개인정보처리방침에 모두 동의해야 합니다.";
                messageEl.classList.add('text-red-500');
                return;
            }

            messageEl.textContent = "회원가입 요청 중...";
            messageEl.classList.add('text-blue-500');

            const signupData = {
                userName: userName,
                email: email,
                phoneNumber: phoneNumber,
                password: password,
            };

            try {
                const response = await fetch(`${apiUrl}/register`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(signupData),
                });

                if (response.ok) {
                    messageEl.textContent = "회원가입 성공! 🎉 로그인 페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    
                    // 2초 후 로그인 페이지로 이동
                    setTimeout(() => handleNavigate('login'), 2000);

                } else if (response.status === 400) {
                    const errorBody = await response.json().catch(() => ({}));
                    messageEl.textContent = `회원가입 실패: ${errorBody.message || '이미 존재하는 이메일이거나 서버에서 오류가 발생했습니다.'}`;
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "회원가입 실패: 서버에서 알 수 없는 오류가 발생했습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }

        // 로그인 처리 함수
        async function handleBackendLogin() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const messageEl = document.getElementById('login-message');
            
            messageEl.textContent = "로그인 시도 중...";
            messageEl.classList.remove('text-red-500');
            messageEl.classList.add('text-blue-500');

            if (!email || !password) {
                messageEl.textContent = "이메일과 비밀번호를 모두 입력해 주세요.";
                messageEl.classList.add('text-red-500');
                messageEl.classList.remove('text-blue-500');
                return;
            }

            const loginData = {
                username: email, // 백엔드 UserService에서 email을 username으로 사용함
                password: password
            };

            try {
                const response = await fetch(`${apiUrl}/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(loginData),
                });

                if (response.ok) {
                    const result = await response.json();
                    
                    // 로그인 성공 처리 (토큰을 저장하거나 상태 업데이트)
                    localStorage.setItem('auth_token', result.token); 
                    messageEl.textContent = "로그인 성공! 🎉 마이페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    
                    // 2초 후 마이페이지로 이동
                    setTimeout(() => handleNavigate('profile'), 2000); 

                } else if (response.status === 401) {
                    messageEl.textContent = "오류: 이메일 또는 비밀번호가 일치하지 않습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "로그인 실패: 서버 오류 발생.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }


        // 초기 로드 시 홈 뷰 렌더링
        window.onload = renderCurrentView;

    </script>
</body>
</html>
