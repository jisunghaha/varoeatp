<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>바로잇 - 예약, 주문, 웨이팅 서비스</title>
    <!-- Tailwind CSS 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .text-gradient {
            background-image: linear-gradient(90deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .gradient-brand {
            background: linear-gradient(135deg, #FF8C00, #FF4500);
        }
        .shadow-brand {
            box-shadow: 0 4px 10px rgba(255, 140, 0, 0.4);
        }
        .pulse-live {
            animation: pulse-custom 1.5s infinite;
        }
        @keyframes pulse-custom {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .bounce-gentle {
            animation: bounce-gentle 2s infinite;
        }
        @keyframes bounce-gentle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .running-character-container {
            position: fixed;
            bottom: 60px;
            right: 20px;
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
            z-index: 50;
        }
        .hide-character {
            transform: translateX(100%);
            opacity: 0;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800" onload="initApp()">

    <!-- 메인 컨테이너 -->
    <div id="app-container" class="min-h-screen bg-background">
        <!-- Header -->
        <header class="sticky top-0 bg-white shadow-md z-40">
            <div class="container mx-auto px-4 py-3 flex items-center justify-between">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="handleNavigate('home')">
                    <div class="w-8 h-8 rounded-lg overflow-hidden">
                        <!-- 로고 이미지 Placeholder -->
                        <img src="https://placehold.co/100x100/FF4500/FFFFFF?text=LOGO" alt="바로잇 로고" class="w-full h-full object-cover">
                    </div>
                    <span class="font-bold text-xl text-gradient">바로잇</span>
                </div>
                <nav class="flex items-center space-x-4">
                    <button class="text-gray-600 hover:text-orange-500 transition-colors" onclick="handleNavigate('location')">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.99 1.99 0 01-2.828 0L6.343 16.657A8 8 0 1117.657 7.343a8 8 0 010 9.314zM12 13a3 3 0 100-6 3 3 0 000 6z"></path></svg>
                    </button>
                    <button class="text-gray-600 hover:text-orange-500 transition-colors" onclick="handleNavigate('notifications')">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v2a3 3 0 11-6 0v-2"></path></svg>
                    </button>
                    <button class="text-gray-600 hover:text-orange-500 transition-colors" onclick="handleNavigate('profile')">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                    </button>
                    <button class="bg-orange-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors" onclick="handleNavigate('login')">
                        로그인
                    </button>
                </nav>
            </div>
        </header>
        
        <!-- 메인 콘텐츠 영역 -->
        <main id="main-content">
            <!-- 뷰 컨테이너 -->
            <div id="view-container">
                <!-- 여기에 페이지 내용이 동적으로 로드됩니다 -->
            </div>
        </main>

        <!-- 푸터 -->
        <footer class="bg-gradient-to-r from-orange-900 to-red-900 text-white py-12 mt-16">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-4 gap-8">
                    <div>
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-10 h-10 rounded-lg overflow-hidden bounce-gentle">
                                <img src="https://placehold.co/100x100/FF4500/FFFFFF?text=LOGO" alt="바로잇 로고 - 달려가는 남자" class="w-full h-full object-cover">
                            </div>
                            <span class="font-bold text-xl text-gradient bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">바로잇</span>
                        </div>
                        <p class="text-sm text-orange-100">
                            바로 eat 하자! 🏃‍♂️💨<br>새로운 식사 경험의 시작
                        </p>
                        <div class="mt-4 flex space-x-3">
                            <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                            <span class="text-xs text-orange-200">실시간 서비스 운영중</span>
                        </div>
                    </div>

                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🍽️ 서비스</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('home')">⚡ 실시간 예약</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('restaurant')">🛎️ 원터치 주문</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="showWaitingManagerModal()">⏱️ 스마트 웨이팅</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="showRewardSystemModal()">🎯 바로미션</button>
                        </div>
                    </div>

                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">🤝 고객지원</h4>
                        <div class="space-y-2 text-sm">
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">💬 24시간 채팅상담</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">📞 고객센터</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">🏪 사업자 문의</p>
                            <p class="text-orange-100 hover:text-yellow-300 cursor-pointer transition-colors">⚡ 빠른 처리 보장</p>
                        </div>
                    </div>

                    <div>
                        <h4 class="font-bold mb-4 text-orange-200">👤 계정</h4>
                        <div class="space-y-2 text-sm">
                            <button class="text-left hover:text-yellow-300 transition-colors text-orange-100" onclick="handleNavigate('login')">🚪 로그인</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('signup')">✨ 회원가입</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('profile')">👥 마이페이지</button>
                            <button class="text-left hover:text-yellow-300 transition-colors block text-orange-100" onclick="handleNavigate('notifications')">🔔 알림 설정</button>
                        </div>
                    </div>
                </div>

                <div class="border-t border-orange-700 mt-8 pt-8">
                    <div class="flex flex-col md:flex-row items-center justify-between">
                        <div class="text-center md:text-left mb-4 md:mb-0">
                            <p class="text-sm text-orange-200">
                                &copy; 2024 바로잇. All rights reserved.
                                <span class="ml-2">Made with ❤️ in Korea</span>
                            </p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2 text-xs text-orange-200">
                                <div class="w-2 h-2 bg-green-400 rounded-full pulse-live"></div>
                                <span>서버 정상 운영중</span>
                            </div>
                            <button class="border-orange-300 text-orange-300 hover:bg-orange-300 hover:text-orange-900 px-3 py-1.5 rounded-lg text-sm font-medium" onclick="toggleRunningCharacter('언제든 도와드릴게요! 🤝')">
                                💬 피드백
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- 러닝 캐릭터 모달 -->
    <div id="running-character" class="running-character-container hide-character">
        <div class="bg-white p-3 rounded-xl shadow-2xl border-2 border-orange-500 flex items-center space-x-3">
            <span id="character-message" class="text-sm font-medium text-gray-700">바로 달려갑니다!</span>
            <span class="text-2xl">🏃‍♂️</span>
        </div>
    </div>

    <!-- JavaScript 로직 -->
    <script>
        // --- 상태 관리 ---
        let currentView = 'home';
        let selectedRestaurant = null;
        
        // --- Mock Data ---
        const restaurants = [
            { id: "1", name: "김치찌개 전문점", image: "https://images.unsplash.com/photo-1708388465106-26838781f663?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrb3JlYW4lMjByZXN0YXVyYW50JTIwZGluaW5nfGVufDF8fHx8MTc1ODY4MDg5N3ww&lib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral", cuisine: "한식", rating: 4.8, reviewCount: 324, priceRange: "1-2만원", location: "강남구 역삼동", distance: "300m", estimatedWait: "20분 대기", features: ["주차", "와이파이", "룸"], availableSlots: 5, isPopular: true, specialOffer: "10% 할인" },
            { id: "2", name: "정통 불고기 맛집", image: "https://images.unsplash.com/photo-1698280954292-c955f882486f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXN0YXVyYW50JTIwdGFibGUlMjBzZXR0aW5nfGVufDF8fHx8MTc1ODY4MDkwMHww&lib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral", cuisine: "한식", rating: 4.6, reviewCount: 189, priceRange: "2-3만원", location: "강남구 신사동", distance: "450m", estimatedWait: "15분 대기", features: ["주차", "룸", "단체석"], availableSlots: 3, isPopular: false },
            { id: "3", name: "비빔밥 카페", image: "https://images.unsplash.com/photo-1548592806-482f9b023d51?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrb3JlYW4lMjBmb29kJTIwZGlzaGVzfGVufDF8fHx8MTc1ODY4MDkwMnww&lib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral", cuisine: "한식", rating: 4.4, reviewCount: 97, priceRange: "1만원 이하", location: "강남구 청담동", distance: "600m", estimatedWait: "즉시 입장", features: ["와이파이", "야외석", "채식 메뉴"], availableSlots: 8, isPopular: false, specialOffer: "신규 오픈" },
        ];

        // --- 유틸리티 함수 ---
        function renderRating(rating) {
            const fullStars = Math.floor(rating);
            const emptyStars = 5 - fullStars;
            let stars = '';
            for (let i = 0; i < fullStars; i++) stars += '★';
            for (let i = 0; i < emptyStars; i++) stars += '☆';
            return `<span class="text-yellow-400">${stars}</span>`;
        }

        function toggleRunningCharacter(message) {
            const charDiv = document.getElementById('running-character');
            const msgSpan = document.getElementById('character-message');
            msgSpan.textContent = message;

            charDiv.classList.remove('hide-character');
            setTimeout(() => {
                charDiv.classList.add('hide-character');
            }, 3000);
        }

        // --- 라우팅/뷰 관리 ---
        function initApp() {
            // 초기 뷰 설정
            renderView(currentView);
            // 모든 버튼에 대한 네비게이션 이벤트 리스너 추가
            document.querySelectorAll('button[data-navigate]').forEach(button => {
                button.addEventListener('click', () => {
                    handleNavigate(button.getAttribute('data-navigate'));
                });
            });
        }

        function handleNavigate(view, data = null) {
            currentView = view;
            if (data) selectedRestaurant = data;
            
            // 헤더 숨기기/보이기 로직
            const header = document.querySelector('header');
            if (view === 'login' || view === 'signup') {
                header.style.display = 'none';
            } else {
                header.style.display = 'flex';
            }

            renderView(currentView);
        }

        function renderView(view) {
            const container = document.getElementById('view-container');
            container.innerHTML = ''; 
            
            switch (view) {
                case 'home':
                    container.innerHTML = renderHomePage();
                    break;
                case 'login':
                    container.innerHTML = renderLoginPage();
                    break;
                case 'signup':
                    container.innerHTML = renderSignupPage();
                    break;
                case 'restaurant':
                    container.innerHTML = renderRestaurantPage(selectedRestaurant);
                    break;
                // 기타 뷰는 placeholder로 처리
                case 'profile':
                case 'notifications':
                case 'location':
                case 'booking-flow':
                case 'order-flow':
                case 'restaurant-selection':
                    container.innerHTML = `<div class="container mx-auto px-4 py-16 text-center">
                        <h2 class="text-3xl font-bold mb-4">${view.toUpperCase()} 페이지</h2>
                        <p class="text-gray-500">HTML 버전에서는 지원되지 않는 기능입니다.</p>
                        <button class="mt-6 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors" onclick="handleNavigate('home')">홈으로 돌아가기</button>
                    </div>`;
                    break;
                default:
                    container.innerHTML = renderHomePage();
            }
            // 스크롤 맨 위로 이동
            window.scrollTo(0, 0);
        }

        // --- 페이지별 템플릿 함수 ---

        function renderHomePage() {
            // Mock HeroSection
            const heroSection = `
                <section class="bg-orange-50 py-16 shadow-inner">
                    <div class="container mx-auto px-4 text-center">
                        <h1 class="text-4xl font-extrabold text-orange-600 mb-4">
                            바로 예약하고 <span class="text-red-600">바로 잇자!</span>
                        </h1>
                        <p class="text-gray-600 max-w-xl mx-auto mb-8">
                            테이블 예약부터 메뉴 주문, 결제까지 한 번에 빠르고 편리한 식당 예약 서비스 바로잇입니다.
                        </p>
                        <div class="flex justify-center space-x-4">
                            <button class="bg-orange-500 text-white px-8 py-3 rounded-xl font-bold hover:bg-orange-600 transition-colors shadow-lg shadow-orange-300" onclick="handleNavigate('restaurant-selection')">
                                🧡 바로 예약하기
                            </button>
                            <button class="bg-white text-orange-500 border border-orange-500 px-8 py-3 rounded-xl font-bold hover:bg-orange-50 hover:text-orange-600 transition-colors" onclick="handleNavigate('restaurant-selection', {actionType: 'order'})">
                                🛎️ 주문하기
                            </button>
                        </div>
                    </div>
                </section>
            `;

            // Mock Restaurant List
            const restaurantCards = restaurants.map(r => `
                <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow cursor-pointer overflow-hidden" onclick="handleNavigate('restaurant', ${JSON.stringify(r).replace(/"/g, '&quot;')})">
                    <img src="${r.image}" alt="${r.name}" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="text-lg font-bold truncate">${r.name}</h3>
                        <p class="text-sm text-gray-500 mb-2">${r.location}</p>
                        <div class="flex items-center text-sm mb-3">
                            ${renderRating(r.rating)}
                            <span class="text-gray-600 ml-2">${r.rating} (${r.reviewCount})</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-orange-600 font-medium">${r.estimatedWait}</span>
                            <span class="text-gray-400">${r.distance}</span>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                ${heroSection}
                <section class="container mx-auto px-4 py-12">
                    <h2 class="text-2xl font-bold mb-6">주변 추천 맛집</h2>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${restaurantCards}
                    </div>
                </section>
                <!-- Features Section (Footer 위 내용) -->
                <section class="bg-gradient-to-br from-orange-50 to-red-50 py-16">
                    <div class="container mx-auto px-4">
                        <div class="text-center mb-12">
                            <h2 class="text-3xl font-bold mb-4 text-gradient">바로잇만의 특별함</h2>
                            <p class="text-muted-foreground max-w-2xl mx-auto">
                                단순한 예약을 넘어 완전히 새로운 식사 경험을 제공합니다
                            </p>
                        </div>
                        <div class="grid md:grid-cols-4 gap-8">
                            <!-- Feature 1 -->
                            <div class="text-center group cursor-pointer">
                                <div class="w-16 h-16 gradient-brand rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform shadow-brand">
                                    <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                                        <span class="text-orange-600">⚡</span>
                                    </div>
                                </div>
                                <h3 class="font-bold mb-2">실시간 웨이팅</h3>
                                <p class="text-gray-500 text-sm">대기시간을 실시간으로 확인하고 스마트하게 관리하세요</p>
                            </div>
                            <!-- Feature 2 -->
                            <div class="text-center group cursor-pointer">
                                <div class="w-16 h-16 gradient-brand rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform shadow-brand">
                                    <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                                        <span class="text-orange-600">🎯</span>
                                    </div>
                                </div>
                                <h3 class="font-bold mb-2">바로미션</h3>
                                <p class="text-gray-500 text-sm">미션을 달성하고 레벨을 올려서 쿠폰과 특별한 혜택을 받으세요</p>
                            </div>
                            <!-- Feature 3 -->
                            <div class="text-center group cursor-pointer">
                                <div class="w-16 h-16 gradient-brand rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform shadow-brand">
                                    <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                                        <span class="text-orange-600">🧠</span>
                                    </div>
                                </div>
                                <h3 class="font-bold mb-2">AI 맞춤 추천</h3>
                                <p class="text-gray-500 text-sm">AI가 분석한 당신만의 취향으로 완벽한 맛집을 추천해드려요</p>
                            </div>
                            <!-- Feature 4 -->
                            <div class="text-center group cursor-pointer">
                                <div class="w-16 h-16 gradient-brand rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform shadow-brand">
                                    <div class="w-8 h-8 bg-white rounded-lg flex items-center justify-center">
                                        <span class="text-orange-600">🎯</span>
                                    </div>
                                </div>
                                <h3 class="font-bold mb-2">원터치 주문</h3>
                                <p class="text-gray-500 text-sm">한 번의 터치로 예약부터 결제까지 모든 것을 완료하세요</p>
                            </div>
                        </div>
                        <div class="text-center mt-12">
                            <button class="px-8 py-3 rounded-xl font-bold text-white shadow-brand bg-orange-500 hover:bg-orange-600 transition-colors" onclick="toggleRunningCharacter('새로운 기능을 체험해보세요! ✨')">
                                <span class="bounce-gentle inline-block mr-2">🚀</span> 바로잇 체험하기
                            </button>
                        </div>
                    </div>
                </section>
            `;
        }

        function renderLoginPage() {
            return `
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">로그인</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-6">
                        <input type="text" id="login-username" placeholder="아이디" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <input type="password" id="login-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <button id="login-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendLogin()">로그인</button>
                        <p id="login-message" class="text-center text-sm text-red-500"></p>
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('signup')">아직 계정이 없으신가요? 회원가입</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }

        function renderSignupPage() {
            return `
                <div class="container mx-auto px-4 py-16 max-w-md">
                    <h2 class="text-3xl font-bold mb-6 text-center text-orange-600">회원가입</h2>
                    <div class="bg-white p-8 rounded-xl shadow-lg space-y-6">
                        <input type="text" id="signup-username" placeholder="사용자 아이디" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <input type="email" id="signup-email" placeholder="이메일" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <input type="password" id="signup-password" placeholder="비밀번호" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500">
                        <button id="signup-button" class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleBackendSignup()">회원가입 완료</button>
                        <p id="signup-message" class="text-center text-sm text-red-500"></p>
                        <div class="text-center text-sm">
                            <button class="text-gray-500 hover:text-orange-500" onclick="handleNavigate('login')">이미 계정이 있으신가요? 로그인</button>
                        </div>
                    </div>
                    <button class="mt-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 홈으로 돌아가기</button>
                </div>
            `;
        }
        
        function renderRestaurantPage(restaurant) {
             if (!restaurant) restaurant = restaurants[0];

            return `
                <div class="container mx-auto px-4 py-8">
                    <button class="mb-6 text-sm text-gray-500 hover:text-orange-500" onclick="handleNavigate('home')">← 목록으로 돌아가기</button>

                    <div class="grid lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2 bg-white rounded-xl shadow-lg p-6">
                            <h1 class="text-3xl font-bold mb-2">${restaurant.name}</h1>
                            <div class="flex items-center text-sm mb-4">
                                ${renderRating(restaurant.rating)}
                                <span class="text-gray-600 ml-2">${restaurant.rating} (${restaurant.reviewCount} 리뷰)</span>
                                <span class="text-gray-400 ml-4">| ${restaurant.cuisine}</span>
                            </div>
                            <img src="${restaurant.image}" alt="${restaurant.name}" class="w-full h-72 object-cover rounded-lg mb-6">
                            
                            <div class="border-b border-gray-200 mb-6">
                                <button class="px-4 py-2 border-b-2 border-orange-500 text-orange-600 font-medium">메뉴</button>
                                <button class="px-4 py-2 text-gray-500 hover:text-gray-700" onclick="alert('매장 정보는 React 컴포넌트 없이 구현이 어렵습니다.')">매장 정보</button>
                                <button class="px-4 py-2 text-gray-500 hover:text-gray-700" onclick="alert('리뷰는 Supabase 연결이 필요합니다.')">리뷰</button>
                            </div>

                            <h2 class="text-2xl font-bold mb-4">메인 메뉴</h2>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center p-4 border rounded-lg">
                                    <div>
                                        <h4 class="font-semibold">대표 김치찌개</h4>
                                        <p class="text-sm text-gray-500">신선한 돼지고기와 숙성 김치의 완벽한 조화</p>
                                    </div>
                                    <span class="font-bold text-lg">10,000원</span>
                                </div>
                                <div class="flex justify-between items-center p-4 border rounded-lg">
                                    <div>
                                        <h4 class="font-semibold">얼큰 부대찌개</h4>
                                        <p class="text-sm text-gray-500">햄, 소시지, 라면사리 가득!</p>
                                    </div>
                                    <span class="font-bold text-lg">12,000원</span>
                                </div>
                            </div>
                        </div>

                        <div class="lg:col-span-1">
                            <div class="sticky top-20 bg-white p-6 rounded-xl shadow-xl border border-orange-100">
                                <h2 class="text-xl font-bold mb-4">예약/주문</h2>
                                <p class="text-sm text-gray-600 mb-6">원하는 서비스를 선택하세요.</p>
                                <div class="space-y-4">
                                    <button class="w-full bg-orange-500 text-white p-3 rounded-lg font-bold hover:bg-orange-600 transition-colors" onclick="handleNavigate('booking-flow')">
                                        🗓️ 예약하기
                                    </button>
                                    <button class="w-full bg-red-500 text-white p-3 rounded-lg font-bold hover:bg-red-600 transition-colors" onclick="handleNavigate('order-flow')">
                                        🛎️ 주문하기
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- 백엔드 연동 회원가입 로직 ---
        async function handleBackendSignup() {
            const usernameInput = document.getElementById('signup-username').value;
            const emailInput = document.getElementById('signup-email').value;
            const passwordInput = document.getElementById('signup-password').value;
            const messageEl = document.getElementById('signup-message');

            if (!usernameInput || !emailInput || !passwordInput) {
                messageEl.textContent = "모든 필드를 입력해 주세요.";
                return;
            }
            
            messageEl.textContent = "회원가입 진행 중...";
            messageEl.classList.remove('text-red-500', 'text-green-500');
            messageEl.classList.add('text-blue-500');

            const userData = {
                username: usernameInput,
                email: emailInput,
                password: passwordInput
            };

            try {
                const apiUrl = 'http://localhost:8080/api/auth/register'; 

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(userData),
                });

                if (response.ok) {
                    messageEl.textContent = "회원가입 성공! 🎉 로그인 페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    setTimeout(() => handleNavigate('login'), 2000); 
                } else if (response.status === 400) {
                    messageEl.textContent = "오류: 이미 존재하는 아이디이거나 형식이 잘못되었습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "회원가입 실패: 서버 오류 발생.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }

        // --- 백엔드 연동 로그인 로직 (새로 추가) ---
        async function handleBackendLogin() {
            const usernameInput = document.getElementById('login-username').value;
            const passwordInput = document.getElementById('login-password').value;
            const messageEl = document.getElementById('login-message');
            
            messageEl.textContent = "로그인 시도 중...";
            messageEl.classList.remove('text-red-500', 'text-green-500');
            messageEl.classList.add('text-blue-500');

            if (!usernameInput || !passwordInput) {
                messageEl.textContent = "아이디와 비밀번호를 모두 입력해 주세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
                return;
            }

            const loginData = {
                username: usernameInput,
                password: passwordInput
            };

            try {
                const apiUrl = 'http://localhost:8080/api/auth/login'; 

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(loginData),
                });

                if (response.ok) {
                    const result = await response.json();
                    
                    // 로그인 성공 처리 (실제로는 토큰을 저장해야 합니다.)
                    localStorage.setItem('auth_token', result.token); 
                    messageEl.textContent = "로그인 성공! 🎉 프로필 페이지로 이동합니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-green-500');
                    
                    // 2초 후 홈 페이지로 이동
                    setTimeout(() => handleNavigate('profile'), 2000); 

                } else if (response.status === 401) {
                    messageEl.textContent = "오류: 아이디 또는 비밀번호가 일치하지 않습니다.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                } else {
                    messageEl.textContent = "로그인 실패: 서버 오류 발생.";
                    messageEl.classList.remove('text-blue-500');
                    messageEl.classList.add('text-red-500');
                }
            } catch (error) {
                console.error('API 호출 오류:', error);
                messageEl.textContent = "네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인하세요.";
                messageEl.classList.remove('text-blue-500');
                messageEl.classList.add('text-red-500');
            }
        }
    </script>
</body>
</html>
